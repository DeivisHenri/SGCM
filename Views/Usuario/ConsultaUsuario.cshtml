@using SGCM.Models.Usuario.CadastroUsuarioModel
@using SGCM.Models.UserMessage

@model List<CadastroUsuarioModel>

@{
    ViewData["Title"] = "Consulta Usuário";
}

<partial name="/Views/Usuario/Partials/Consultar/_UsuarioStyle.cshtml" />

@*<div class="center-form-container">*@
<div class="consulta-usuario-container">
    <div class="medico-header">
        <h3>Usuarios Cadastrador pelo Médico: @ViewData["nome"]</h3>
    </div>

    <div asp-validation-summary="ModelOnly" class="text-danger"></div>

    @if (ViewData["UserMessage"] != null) {
        var message = (UserMessage)ViewData["userMessage"];
        <div class="alert-message @message.cssClassName">
            <div id="Title" class="">
                <strong>@message.title</strong>
            </div>
            <div id="message" class="">
                @message.userMessage
            </div>
        </div>
     }

     <table title="Tabela dos Usuários" class="table table-striped table-bordered text-center" border="1">
        <thead>
            <tr>
                <td>Nome</td>
                <td>CPF</td>
                <td>Telefone Celular</td>
                <td>Editar</td>
            </tr>
        </thead>
    
         <tbody>
            @foreach (var user in Model) {
                <tr>
                    <td>@user.pessoa.Nome</td>
                    <td>@user.pessoa.CPF</td>
                    <td>@user.pessoa.Telefone_Celular</td>
                    <td>
                        <div>
                            <a asp-controller="Usuario" asp-action="EditarUsuario" asp-route-id="@user.pessoa.IdPessoa">Edit</a>
                        </div>
                    </td>
                    <td hidden="hidden">@user.pessoa.IdPessoa</td>
                    <td hidden="hidden">@user.usuario.IdUsuario</td>
                    <td hidden="hidden">@user.permissoes.IdPermissoes</td>
                </tr>
             }
        </tbody>
    </table>
</div>



@section Scripts {
    @{ await Html.RenderPartialAsync("_ValidationScriptsPartial"); }

    <partial name="/Views/Usuario/Partials/Consultar/_UsuarioScript.cshtml" />
}
